{"version":3,"sources":["js/setDday.js"],"names":["initSetDday","setDdayContainer","document","querySelector","dDayContainer","addDdaybtn","editDdaybtn","modal","modalContainer","dDayModal","createElement","innerHTML","classList","add","addEventListener","showDdayModal","append","dDayForm","setDdaybtn","dDayName","dDayDate","localStorage","getItem","dDayArr","JSON","parse","value","remove","e","preventDefault","setItem","stringify","setDday","dDayData","name","date","dDay","dDayTitle","textContent","calDday","Math","ceil","Date"],"mappings":"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","file":"setDday.881f10da.js","sourceRoot":"..","sourcesContent":["export default function initSetDday() {\r\n  const setDdayContainer = document.querySelector(\".set-d-day\");\r\n  const dDayContainer = document.querySelector(\".show-d-day\");\r\n  const addDdaybtn = setDdayContainer.querySelector(\"button\");\r\n  const editDdaybtn = dDayContainer.querySelector(\"button\");\r\n  const modal = document.querySelector(\"#modal\");\r\n  const modalContainer = modal.querySelector(\".modal-container\");\r\n  const dDayModal = document.createElement(\"form\");\r\n  dDayModal.innerHTML = /*html*/ `\r\n          <input\r\n            type=\"text\"\r\n            class=\"d-day-name\"\r\n            placeholder=\"추가할 일정을 입력해주세요\" required />\r\n          <input type=\"date\" class=\"d-day-date\" required />\r\n          <button>완료</button>`;\r\n\r\n  dDayModal.classList.add(\"d-day-modal\");\r\n\r\n  // 디데이 추가 버튼 클릭하면 모달 창 등장\r\n  addDdaybtn.addEventListener(\"click\", () => {\r\n    showDdayModal();\r\n  });\r\n\r\n  // edit 버튼 클릭하면 모달 창 등장\r\n  editDdaybtn.addEventListener(\"click\", () => {\r\n    showDdayModal();\r\n  });\r\n\r\n  function showDdayModal() {\r\n    modal.classList.add(\"active\");\r\n    modalContainer.append(dDayModal);\r\n\r\n    // form 입력한 값 받아서 디데이 실행\r\n    const dDayForm = document.querySelector(\".d-day-modal\");\r\n    const setDdaybtn = dDayForm.querySelector(\"button\");\r\n    const dDayName = dDayForm.querySelector(\".d-day-name\");\r\n    const dDayDate = dDayForm.querySelector(\".d-day-date\");\r\n\r\n    // localStorage에 값 있으면 들고 오기 (edit)\r\n    if (localStorage.getItem(\"d-day\")) {\r\n      const dDayArr = JSON.parse(localStorage.getItem(\"d-day\"));\r\n      dDayName.value = dDayArr[0];\r\n      dDayDate.value = dDayArr[1];\r\n    }\r\n\r\n    dDayDate.addEventListener(\"click\", () => {\r\n      dDayDate.classList.remove(\"alert\");\r\n    });\r\n\r\n    setDdaybtn.addEventListener(\"click\", (e) => {\r\n      e.preventDefault();\r\n      if (dDayName.value === \"\") return dDayName.classList.add(\"alert\");\r\n      if (dDayDate.value === \"\") return dDayDate.classList.add(\"alert\");\r\n      const dDayArr = [dDayName.value, dDayDate.value];\r\n      localStorage.setItem(\"d-day\", JSON.stringify(dDayArr));\r\n      setDday();\r\n\r\n      modalContainer.innerHTML = \"\";\r\n      modal.classList.remove(\"active\");\r\n    });\r\n  }\r\n\r\n  function setDday() {\r\n    const dDayData = JSON.parse(localStorage.getItem(\"d-day\"));\r\n    const [name, date] = dDayData;\r\n    const dDay = dDayContainer.querySelector(\".d-day\");\r\n    const dDayTitle = dDayContainer.querySelector(\".d-day-title\");\r\n    const dDayDate = dDayContainer.querySelector(\".d-day-date\");\r\n    dDayTitle.textContent = name;\r\n    dDayDate.textContent = date;\r\n    setDdayContainer.classList.remove(\"show\");\r\n    dDayContainer.classList.add(\"show\");\r\n\r\n    const calDday = Math.ceil(\r\n      (new Date(date) - new Date()) / (1000 * 60 * 60 * 24)\r\n    );\r\n    dDay.textContent = calDday < 0 ? `+${-calDday}` : `-${calDday}`;\r\n  }\r\n\r\n  // 페이지 로드될 때 localStorage에 값 있는지에 따라 동작\r\n  if (localStorage.getItem(\"d-day\")) {\r\n    setDdayContainer.classList.remove(\"show\");\r\n    dDayContainer.classList.add(\"show\");\r\n    setDday();\r\n  } else {\r\n    setDdayContainer.classList.add(\"show\");\r\n    dDayContainer.classList.remove(\"show\");\r\n  }\r\n}\r\n"]}